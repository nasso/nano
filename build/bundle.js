var t,e=(t=import.meta.url,function(e){var n,r,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(t,e){n=t,r=e}));var i,a={};for(i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);var u="";"undefined"!=typeof document&&document.currentScript&&(u=document.currentScript.src),t&&(u=t),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"";var s,c=console.log.bind(console),l=console.warn.bind(console);for(i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);a=null,"object"!=typeof WebAssembly&&Y("no native wasm support detected");var f=!1,p="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function d(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&p)return p.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var u=63&t[e++];if(192!=(224&a)){var s=63&t[e++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function h(t,e){return t?d(v,t,e):""}function m(t,e,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<t.length;++a){var u=t.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++a)),u<=127){if(n>=i)break;e[n++]=u}else if(u<=2047){if(n+1>=i)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=i)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=i)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}return e[n]=0,n-o}function g(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}var $,y,v,w,b,_,C,T,P,x,A="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function O(t,e){for(var n=t,r=n>>1,o=r+e/2;!(r>=o)&&b[r];)++r;if((n=r<<1)-t>32&&A)return A.decode(v.subarray(t,n));for(var i="",a=0;!(a>=e/2);++a){var u=w[t+2*a>>1];if(0==u)break;i+=String.fromCharCode(u)}return i}function k(t,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=e,o=(n-=2)<2*t.length?n/2:t.length,i=0;i<o;++i){var a=t.charCodeAt(i);w[e>>1]=a,e+=2}return w[e>>1]=0,e-r}function F(t){return 2*t.length}function E(t,e){for(var n=0,r="";!(n>=e/4);){var o=_[t+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}else r+=String.fromCharCode(o)}return r}function D(t,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=e,o=r+n-4,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),_[e>>2]=a,(e+=4)+4>o)break}return _[e>>2]=0,e-r}function S(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&++n,e+=4}return e}var j=[],W=[],U=[],M=[];W.push({func:function(){De()}});var I=0,N=null;function Y(t){l(t+=""),f=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(t);throw r(e),e}function V(t){return e=t,n="data:application/octet-stream;base64,",String.prototype.startsWith?e.startsWith(n):0===e.indexOf(n);var e,n}o.preloadedImages={},o.preloadedAudios={};var H,R="nts.wasm";function B(t){try{throw"both async and sync fetching of the wasm failed"}catch(t){Y(t)}}function z(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?x.get(n)():x.get(n)(e.arg):n(void 0===e.arg?null:e.arg)}else e(o)}}V(R)||(H=R,R=o.locateFile?o.locateFile(H,u):u+H);var L=0,G=4,q=8,J=12,X=13,Z=16;function K(t){this.excPtr=t,this.ptr=t-Z,this.set_type=function(t){_[this.ptr+q>>2]=t},this.get_type=function(){return _[this.ptr+q>>2]},this.set_destructor=function(t){_[this.ptr+L>>2]=t},this.get_destructor=function(){return _[this.ptr+L>>2]},this.set_refcount=function(t){_[this.ptr+G>>2]=t},this.set_caught=function(t){t=t?1:0,y[this.ptr+J>>0]=t},this.get_caught=function(){return 0!=y[this.ptr+J>>0]},this.set_rethrown=function(t){t=t?1:0,y[this.ptr+X>>0]=t},this.get_rethrown=function(){return 0!=y[this.ptr+X>>0]},this.init=function(t,e){this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=_[this.ptr+G>>2];_[this.ptr+G>>2]=t+1},this.release_ref=function(){var t=_[this.ptr+G>>2];return _[this.ptr+G>>2]=t-1,1===t}}function Q(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function tt(t,e){return t=Q(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}var et=[],nt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function rt(){for(var t=0,e=5;e<nt.length;++e)void 0!==nt[e]&&++t;return t}function ot(){for(var t=5;t<nt.length;++t)if(void 0!==nt[t])return nt[t];return null}function it(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=et.length?et.pop():nt.length;return nt[e]={refcount:1,value:t},e}}function at(t,e){var n=tt(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ut=void 0,st=void 0;function ct(t){for(var e="",n=t;v[n];)e+=st[v[n++]];return e}function lt(){return Object.keys(gt).length}function ft(){var t=[];for(var e in gt)gt.hasOwnProperty(e)&&t.push(gt[e]);return t}var pt=[];function dt(){for(;pt.length;){var t=pt.pop();t.$$.deleteScheduled=!1,t.delete()}}var ht=void 0;function mt(t){ht=t,pt.length&&ht&&ht(dt)}var gt={},$t=void 0;function yt(t){throw new $t(t)}function vt(t,e){for(void 0===e&&yt("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}function wt(t,e,n){e=vt(t,e),gt.hasOwnProperty(e)?yt("Tried to register registered instance: "+e):gt[e]=n}function bt(t){return t||yt("Cannot use deleted val. handle = "+t),nt[t].value}var _t={};function Ct(t){var e=je(t),n=ct(e);return Ue(e),n}function Tt(t,e){var n=_t[t];return void 0===n&&yt(e+" has unknown type "+Ct(t)),n}function Pt(t){}var xt=!1;function At(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function Ot(t){return"undefined"==typeof FinalizationGroup?(Ot=function(t){return t},t):(xt=new FinalizationGroup((function(t){for(var e=t.next();!e.done;e=t.next()){var n=e.value;n.ptr?At(n):console.warn("object already deleted: "+n.ptr)}})),Pt=function(t){xt.unregister(t.$$)},(Ot=function(t){return xt.register(t,t.$$,t.$$),t})(t))}function kt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var Ft={},Et={},Dt=void 0;function St(t){throw new Dt(t)}function jt(t,e,n){function r(e){var r=n(e);r.length!==t.length&&St("Mismatched type converter count");for(var o=0;o<t.length;++o)Wt(t[o],r[o])}t.forEach((function(t){Et[t]=e}));var o=new Array(e.length),i=[],a=0;e.forEach((function(t,e){_t.hasOwnProperty(t)?o[e]=_t[t]:(i.push(t),Ft.hasOwnProperty(t)||(Ft[t]=[]),Ft[t].push((function(){o[e]=_t[t],++a===i.length&&r(o)})))})),0===i.length&&r(o)}function Wt(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||yt('type "'+r+'" must have a positive integer typeid pointer'),_t.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;yt("Cannot register type '"+r+"' twice")}if(_t[t]=e,delete Et[t],Ft.hasOwnProperty(t)){var o=Ft[t];delete Ft[t],o.forEach((function(t){t()}))}}function Ut(t){if(!(this instanceof Ht))return!1;if(!(t instanceof Ht))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=t.$$.ptrType.registeredClass,o=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;r.baseClass;)o=r.upcast(o),r=r.baseClass;return e===r&&n===o}function Mt(t){yt(t.$$.ptrType.registeredClass.name+" instance already deleted")}function It(){if(this.$$.ptr||Mt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Ot(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Nt(){this.$$.ptr||Mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&yt("Object already scheduled for deletion"),Pt(this),At(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Yt(){return!this.$$.ptr}function Vt(){return this.$$.ptr||Mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&yt("Object already scheduled for deletion"),pt.push(this),1===pt.length&&ht&&ht(dt),this.$$.deleteScheduled=!0,this}function Ht(){}var Rt={};function Bt(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||yt("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}function zt(t,e,n){o.hasOwnProperty(t)?((void 0===n||void 0!==o[t].overloadTable&&void 0!==o[t].overloadTable[n])&&yt("Cannot register public name '"+t+"' twice"),Bt(o,t,t),o.hasOwnProperty(n)&&yt("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[t].overloadTable[n]=e):(o[t]=e,void 0!==n&&(o[t].numArguments=n))}function Lt(t,e,n,r,o,i,a,u){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=u,this.pureVirtualFunctions=[]}function Gt(t,e,n){for(;e!==n;)e.upcast||yt("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function qt(t,e){if(null===e)return this.isReference&&yt("null is not a valid "+this.name),0;e.$$||yt('Cannot pass "'+ge(e)+'" as a '+this.name),e.$$.ptr||yt("Cannot pass deleted object as a pointer of type "+this.name);var n=e.$$.ptrType.registeredClass;return Gt(e.$$.ptr,n,this.registeredClass)}function Jt(t,e){var n;if(null===e)return this.isReference&&yt("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;e.$$||yt('Cannot pass "'+ge(e)+'" as a '+this.name),e.$$.ptr||yt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&yt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;if(n=Gt(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&yt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:yt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var o=e.clone();n=this.rawShare(n,it((function(){o.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:yt("Unsupporting sharing policy")}return n}function Xt(t,e){if(null===e)return this.isReference&&yt("null is not a valid "+this.name),0;e.$$||yt('Cannot pass "'+ge(e)+'" as a '+this.name),e.$$.ptr||yt("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&yt("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;return Gt(e.$$.ptr,n,this.registeredClass)}function Zt(t){return this.fromWireType(C[t>>2])}function Kt(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function Qt(t){this.rawDestructor&&this.rawDestructor(t)}function te(t){null!==t&&t.delete()}function ee(t,e,n){if(e===n)return t;if(void 0===n.baseClass)return null;var r=ee(t,e,n.baseClass);return null===r?null:n.downcast(r)}function ne(t,e){return e.ptrType&&e.ptr||St("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&St("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Ot(Object.create(t,{$$:{value:e}}))}function re(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=function(t,e){return e=vt(t,e),gt[e]}(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var r=n.clone();return this.destructor(t),r}function o(){return this.isSmartPointer?ne(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):ne(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var i,a=this.registeredClass.getActualType(e),u=Rt[a];if(!u)return o.call(this);i=this.isConst?u.constPointerType:u.pointerType;var s=ee(e,this.registeredClass,i.registeredClass);return null===s?o.call(this):this.isSmartPointer?ne(i.registeredClass.instancePrototype,{ptrType:i,ptr:s,smartPtrType:this,smartPtr:t}):ne(i.registeredClass.instancePrototype,{ptrType:i,ptr:s})}function oe(t,e,n,r,o,i,a,u,s,c,l){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=r,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=l,o||void 0!==e.baseClass?this.toWireType=Jt:r?(this.toWireType=qt,this.destructorFunction=null):(this.toWireType=Xt,this.destructorFunction=null)}function ie(t,e,n){return-1!=t.indexOf("j")?function(t,e,n){var r=o["dynCall_"+t];return n&&n.length?r.apply(null,[e].concat(n)):r.call(null,e)}(t,e,n):x.get(e).apply(null,n)}function ae(t,e){var n,r,o,i=-1!=(t=ct(t)).indexOf("j")?(n=t,r=e,o=[],function(){o.length=arguments.length;for(var t=0;t<arguments.length;t++)o[t]=arguments[t];return ie(n,r,o)}):x.get(e);return"function"!=typeof i&&yt("unknown function pointer with signature "+t+": "+e),i}var ue=void 0;function se(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||_t[e]||(Et[e]?Et[e].forEach(t):(n.push(e),r[e]=!0))})),new ue(t+": "+n.map(Ct).join([", "]))}function ce(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=tt(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return o instanceof Object?o:r}function le(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function fe(t,e,n,r,o){var i=e.length;i<2&&yt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&null!==n,u=!1,s=1;s<e.length;++s)if(null!==e[s]&&void 0===e[s].destructorFunction){u=!0;break}var c="void"!==e[0].name,l="",f="";for(s=0;s<i-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var p="return function "+Q(t)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";u&&(p+="var destructors = [];\n");var d=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[yt,r,o,le,e[0],e[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),s=0;s<i-2;++s)p+="var arg"+s+"Wired = argType"+s+".toWireType("+d+", arg"+s+"); // "+e[s+2].name+"\n",h.push("argType"+s),m.push(e[s+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",u)p+="runDestructors(destructors);\n";else for(s=a?1:2;s<e.length;++s){var g=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==e[s].destructorFunction&&(p+=g+"_dtor("+g+"); // "+e[s].name+"\n",h.push(g+"_dtor"),m.push(e[s].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",h.push(p),ce(Function,h).apply(null,m)}function pe(t,e){for(var n=[],r=0;r<t;r++)n.push(_[(e>>2)+r]);return n}function de(t,e,n){return t instanceof Object||yt(n+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||yt(n+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||yt("cannot call emscripten binding method "+n+" on deleted object"),Gt(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}function he(t){t>4&&0==--nt[t].refcount&&(nt[t]=void 0,et.push(t))}function me(t,e,n){switch(e){case 0:return function(t){var e=n?y:v;return this.fromWireType(e[t])};case 1:return function(t){var e=n?w:b;return this.fromWireType(e[t>>1])};case 2:return function(t){var e=n?_:C;return this.fromWireType(e[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function ge(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function $e(t,e){switch(e){case 2:return function(t){return this.fromWireType(T[t>>2])};case 3:return function(t){return this.fromWireType(P[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function ye(t,e,n){switch(e){case 0:return n?function(t){return y[t]}:function(t){return v[t]};case 1:return n?function(t){return w[t>>1]}:function(t){return b[t>>1]};case 2:return n?function(t){return _[t>>2]}:function(t){return C[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var ve={};function we(t){var e=ve[t];return void 0===e?ct(t):e}var be=[],_e={};function Ce(){if(!Ce.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(var e in _e)t[e]=_e[e];var n=[];for(var e in t)n.push(e+"="+t[e]);Ce.strings=n}return Ce.strings}var Te={mappings:{},buffers:[null,[],[]],printChar:function(t,e){var n=Te.buffers[t];0===e||10===e?((1===t?c:l)(d(n,0)),n.length=0):n.push(e)},varargs:void 0,get:function(){return Te.varargs+=4,_[Te.varargs-4>>2]},getStr:function(t){return h(t)},get64:function(t,e){return t}};function Pe(t){return t%4==0&&(t%100!=0||t%400==0)}function xe(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}var Ae=[31,29,31,30,31,30,31,31,30,31,30,31],Oe=[31,28,31,30,31,30,31,31,30,31,30,31];function ke(t,e){for(var n=new Date(t.getTime());e>0;){var r=Pe(n.getFullYear()),o=n.getMonth(),i=(r?Ae:Oe)[o];if(!(e>i-n.getDate()))return n.setDate(n.getDate()+e),n;e-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Fe(t,e,n,r){var o=_[r+40>>2],i={tm_sec:_[r>>2],tm_min:_[r+4>>2],tm_hour:_[r+8>>2],tm_mday:_[r+12>>2],tm_mon:_[r+16>>2],tm_year:_[r+20>>2],tm_wday:_[r+24>>2],tm_yday:_[r+28>>2],tm_isdst:_[r+32>>2],tm_gmtoff:_[r+36>>2],tm_zone:o?h(o):""},a=h(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var s in u)a=a.replace(new RegExp(s,"g"),u[s]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(t,e,n){for(var r="number"==typeof t?t.toString():t||"";r.length<e;)r=n[0]+r;return r}function p(t,e){return f(t,e,"0")}function d(t,e){function n(t){return t<0?-1:t>0?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function $(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function v(t){var e=ke(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),r=new Date(e.getFullYear()+1,0,4),o=$(n),i=$(r);return d(o,e)<=0?d(i,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var w={"%a":function(t){return c[t.tm_wday].substring(0,3)},"%A":function(t){return c[t.tm_wday]},"%b":function(t){return l[t.tm_mon].substring(0,3)},"%B":function(t){return l[t.tm_mon]},"%C":function(t){return p((t.tm_year+1900)/100|0,2)},"%d":function(t){return p(t.tm_mday,2)},"%e":function(t){return f(t.tm_mday,2," ")},"%g":function(t){return v(t).toString().substring(2)},"%G":function(t){return v(t)},"%H":function(t){return p(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),p(e,2)},"%j":function(t){return p(t.tm_mday+xe(Pe(t.tm_year+1900)?Ae:Oe,t.tm_mon-1),3)},"%m":function(t){return p(t.tm_mon+1,2)},"%M":function(t){return p(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return p(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=new Date(t.tm_year+1900,0,1),n=0===e.getDay()?e:ke(e,7-e.getDay()),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(d(n,r)<0){var o=xe(Pe(r.getFullYear())?Ae:Oe,r.getMonth()-1)-31,i=31-n.getDate()+o+r.getDate();return p(Math.ceil(i/7),2)}return 0===d(n,e)?"01":"00"},"%V":function(t){var e,n=new Date(t.tm_year+1900,0,4),r=new Date(t.tm_year+1901,0,4),o=$(n),i=$(r),a=ke(new Date(t.tm_year+1900,0,1),t.tm_yday);return d(a,o)<0?"53":d(i,a)<=0?"01":(e=o.getFullYear()<t.tm_year+1900?t.tm_yday+32-o.getDate():t.tm_yday+1-o.getDate(),p(Math.ceil(e/7),2))},"%w":function(t){return t.tm_wday},"%W":function(t){var e=new Date(t.tm_year,0,1),n=1===e.getDay()?e:ke(e,0===e.getDay()?1:7-e.getDay()+1),r=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(d(n,r)<0){var o=xe(Pe(r.getFullYear())?Ae:Oe,r.getMonth()-1)-31,i=31-n.getDate()+o+r.getDate();return p(Math.ceil(i/7),2)}return 0===d(n,e)?"01":"00"},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var s in w)a.indexOf(s)>=0&&(a=a.replace(new RegExp(s,"g"),w[s](i)));var b,C,T,P,x,A,O=(b=a,C=!1,P=T>0?T:g(b)+1,x=new Array(P),A=m(b,x,0,x.length),C&&(x.length=A),x);return O.length>e?0:(function(t,e){y.set(t,e)}(O,t),O.length-1)}o.count_emval_handles=rt,o.get_first_emval=ot,ut=o.PureVirtualError=at(Error,"PureVirtualError"),function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);st=t}(),o.getInheritedInstanceCount=lt,o.getLiveInheritedInstances=ft,o.flushPendingDeletes=dt,o.setDelayFunction=mt,$t=o.BindingError=at(Error,"BindingError"),Dt=o.InternalError=at(Error,"InternalError"),Ht.prototype.isAliasOf=Ut,Ht.prototype.clone=It,Ht.prototype.delete=Nt,Ht.prototype.isDeleted=Yt,Ht.prototype.deleteLater=Vt,oe.prototype.getPointee=Kt,oe.prototype.destructor=Qt,oe.prototype.argPackAdvance=8,oe.prototype.readValueFromPointer=Zt,oe.prototype.deleteObject=te,oe.prototype.fromWireType=re,ue=o.UnboundTypeError=at(Error,"UnboundTypeError");var Ee={b:function(t){return Se(t+Z)+Z},K:function(t,e){},c:function(t,e,n){throw new K(t).init(e,n),t},r:function(t,e,n){t=ct(t),e=Tt(e,"wrapper"),n=bt(n);var r=[].slice,o=e.registeredClass,i=o.instancePrototype,a=o.baseClass.instancePrototype,u=o.baseClass.constructor,s=tt(t,(function(){o.baseClass.pureVirtualFunctions.forEach(function(t){if(this[t]===a[t])throw new ut("Pure virtual function "+t+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:i}),this.__construct.apply(this,r.call(arguments))}));for(var c in i.__construct=function(){this===i&&yt("Pass correct 'this' to __construct");var t=u.implement.apply(void 0,[this].concat(r.call(arguments)));Pt(t);var e=t.$$;t.notifyOnDestruction(),e.preservePointerOnDelete=!0,Object.defineProperties(this,{$$:{value:e}}),Ot(this),wt(o,e.ptr,this)},i.__destruct=function(){var t,e;this===i&&yt("Pass correct 'this' to __destruct"),Pt(this),t=o,e=this.$$.ptr,e=vt(t,e),gt.hasOwnProperty(e)?delete gt[e]:yt("Tried to unregister unregistered instance: "+e)},s.prototype=Object.create(i),n)s.prototype[c]=n[c];return it(s)},H:function(t,e,n,r,o){var i=kt(n);Wt(t,{name:e=ct(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:o},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=y;else if(2===n)r=w;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=_}return this.fromWireType(r[t>>i])},destructorFunction:null})},d:function(t,e,n,r,i,a,u,s,c,l,f,p,d){f=ct(f),a=ae(i,a),s&&(s=ae(u,s)),l&&(l=ae(c,l)),d=ae(p,d);var h=Q(f);zt(h,(function(){se("Cannot construct "+f+" due to unbound types",[r])})),jt([t,e,n],r?[r]:[],(function(e){var n,i;e=e[0],i=r?(n=e.registeredClass).instancePrototype:Ht.prototype;var u=tt(h,(function(){if(Object.getPrototypeOf(this)!==c)throw new $t("Use 'new' to construct "+f);if(void 0===p.constructor_body)throw new $t(f+" has no accessible constructor");var t=p.constructor_body[arguments.length];if(void 0===t)throw new $t("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(p.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),c=Object.create(i,{constructor:{value:u}});u.prototype=c;var p=new Lt(f,u,c,d,n,a,s,l),m=new oe(f,p,!0,!1,!1),g=new oe(f+"*",p,!1,!1,!1),$=new oe(f+" const*",p,!1,!0,!1);return Rt[t]={pointerType:g,constPointerType:$},function(t,e,n){o.hasOwnProperty(t)||St("Replacing nonexistant public symbol"),void 0!==o[t].overloadTable&&void 0!==n?o[t].overloadTable[n]=e:(o[t]=e,o[t].argCount=n)}(h,u),[m,g,$]}))},l:function(t,e,n,r,o,i,a){var u=pe(n,r);e=ct(e),i=ae(o,i),jt([],[t],(function(t){var r=(t=t[0]).name+"."+e;function o(){se("Cannot call "+r+" due to unbound types",u)}var s=t.registeredClass.constructor;return void 0===s[e]?(o.argCount=n-1,s[e]=o):(Bt(s,e,r),s[e].overloadTable[n-1]=o),jt([],u,(function(t){var o=[t[0],null].concat(t.slice(1)),u=fe(r,o,null,i,a);return void 0===s[e].overloadTable?(u.argCount=n-1,s[e]=u):s[e].overloadTable[n-1]=u,[]})),[]}))},i:function(t,e,n,r,o,i){!function(t,e){t||Y("Assertion failed: "+e)}(e>0);var a=pe(e,n);o=ae(r,o);var u=[i],s=[];jt([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new $t("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){se("Cannot construct "+t.name+" due to unbound types",a)},jt([],a,(function(r){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&yt(n+" called with "+arguments.length+" arguments, expected "+(e-1)),s.length=0,u.length=e;for(var t=1;t<e;++t)u[t]=r[t].toWireType(s,arguments[t-1]);var i=o.apply(null,u);return le(s),r[0].fromWireType(i)},[]})),[]}))},a:function(t,e,n,r,o,i,a,u){var s=pe(n,r);e=ct(e),i=ae(o,i),jt([],[t],(function(t){var r=(t=t[0]).name+"."+e;function o(){se("Cannot call "+r+" due to unbound types",s)}u&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,l=c[e];return void 0===l||void 0===l.overloadTable&&l.className!==t.name&&l.argCount===n-2?(o.argCount=n-2,o.className=t.name,c[e]=o):(Bt(c,e,r),c[e].overloadTable[n-2]=o),jt([],s,(function(o){var u=fe(r,o,t,i,a);return void 0===c[e].overloadTable?(u.argCount=n-2,c[e]=u):c[e].overloadTable[n-2]=u,[]})),[]}))},q:function(t,e,n,r,o,i,a,u,s,c){e=ct(e),o=ae(r,o),jt([],[t],(function(t){var r=(t=t[0]).name+"."+e,l={get:function(){se("Cannot access "+r+" due to unbound types",[n,a])},enumerable:!0,configurable:!0};return l.set=s?function(){se("Cannot access "+r+" due to unbound types",[n,a])}:function(t){yt(r+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,l),jt([],s?[n,a]:[n],(function(n){var a=n[0],l={get:function(){var e=de(this,t,r+" getter");return a.fromWireType(o(i,e))},enumerable:!0};if(s){s=ae(u,s);var f=n[1];l.set=function(e){var n=de(this,t,r+" setter"),o=[];s(c,n,f.toWireType(o,e)),le(o)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,l),[]})),[]}))},G:function(t,e){Wt(t,{name:e=ct(e),fromWireType:function(t){var e=nt[t].value;return he(t),e},toWireType:function(t,e){return it(e)},argPackAdvance:8,readValueFromPointer:Zt,destructorFunction:null})},x:function(t,e,n,r){var o=kt(n);function i(){}e=ct(e),i.values={},Wt(t,{name:e,constructor:i,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:me(e,o,r),destructorFunction:null}),zt(e,i)},k:function(t,e,n){var r=Tt(t,"enum");e=ct(e);var o=r.constructor,i=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:tt(r.name+"_"+e,(function(){}))}});o.values[n]=i,o[e]=i},v:function(t,e,n){var r=kt(n);Wt(t,{name:e=ct(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+ge(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:$e(e,r),destructorFunction:null})},h:function(t,e,n,r,o){e=ct(e),-1===o&&(o=4294967295);var i=kt(n),a=function(t){return t};if(0===r){var u=32-8*n;a=function(t){return t<<u>>>u}}var s=-1!=e.indexOf("unsigned");Wt(t,{name:e,fromWireType:a,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+ge(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+ge(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+r+", "+o+"]!");return s?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:ye(e,i,0!==r),destructorFunction:null})},g:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=C,n=e[t>>=2],o=e[t+1];return new r($,o,n)}Wt(t,{name:n=ct(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},w:function(t,e){var n="std::string"===(e=ct(e));Wt(t,{name:e,fromWireType:function(t){var e,r=C[t>>2];if(n)for(var o=t+4,i=0;i<=r;++i){var a=t+4+i;if(i==r||0==v[a]){var u=h(o,a-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=a+1}}else{var s=new Array(r);for(i=0;i<r;++i)s[i]=String.fromCharCode(v[t+4+i]);e=s.join("")}return Ue(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||yt("Cannot pass non-string to std::string");var o=(n&&r?function(){return g(e)}:function(){return e.length})(),i=Se(4+o+1);if(C[i>>2]=o,n&&r)m(e,v,i+4,o+1);else if(r)for(var a=0;a<o;++a){var u=e.charCodeAt(a);u>255&&(Ue(i),yt("String has UTF-16 code units that do not fit in 8 bits")),v[i+4+a]=u}else for(a=0;a<o;++a)v[i+4+a]=e[a];return null!==t&&t.push(Ue,i),i},argPackAdvance:8,readValueFromPointer:Zt,destructorFunction:function(t){Ue(t)}})},t:function(t,e,n){var r,o,i,a,u;n=ct(n),2===e?(r=O,o=k,a=F,i=function(){return b},u=1):4===e&&(r=E,o=D,a=S,i=function(){return C},u=2),Wt(t,{name:n,fromWireType:function(t){for(var n,o=C[t>>2],a=i(),s=t+4,c=0;c<=o;++c){var l=t+4+c*e;if(c==o||0==a[l>>u]){var f=r(s,l-s);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),s=l+e}}return Ue(t),n},toWireType:function(t,r){"string"!=typeof r&&yt("Cannot pass non-string to C++ string type "+n);var i=a(r),s=Se(4+i+e);return C[s>>2]=i>>u,o(r,s+4,i+e),null!==t&&t.push(Ue,s),s},argPackAdvance:8,readValueFromPointer:Zt,destructorFunction:function(t){Ue(t)}})},I:function(t,e){Wt(t,{isVoid:!0,name:e=ct(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},J:function(t,e,n){t=bt(t),e=Tt(e,"emval::as");var r=[],o=it(r);return _[n>>2]=o,e.toWireType(r,t)},o:function(t,e,n,r,o){return(t=be[t])(e=bt(e),n=we(n),function(t){var e=[];return _[t>>2]=it(e),e}(r),o)},j:function(t,e,n,r){(t=be[t])(e=bt(e),n=we(n),null,r)},f:he,e:function(t,e){for(var n=function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=Tt(_[(e>>2)+r],"parameter "+r);return n}(t,e),r=n[0],o=r.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",i=["retType"],a=[r],u="",s=0;s<t-1;++s)u+=(0!==s?", ":"")+"arg"+s,i.push("argType"+s),a.push(n[1+s]);var c="return function "+Q("methodCaller_"+o)+"(handle, name, destructors, args) {\n",l=0;for(s=0;s<t-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(l?"+"+l:"")+");\n",l+=n[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+u+");\n",s=0;s<t-1;++s)n[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\n");r.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),c+="};\n",i.push(c);var f,p,d=ce(Function,i).apply(null,a);return f=d,p=be.length,be.push(f),p},p:function(t){t>4&&(nt[t].refcount+=1)},m:function(t){le(nt[t].value),he(t)},n:function(t,e){return it((t=Tt(t,"_emval_take_value")).readValueFromPointer(e))},s:function(){Y()},A:function(t,e,n){v.copyWithin(t,e,e+n)},B:function(t){Y("OOM")},D:function(t,e){var n=0;return Ce().forEach((function(r,o){var i=e+n;_[t+4*o>>2]=i,function(t,e,n){for(var r=0;r<t.length;++r)y[e++>>0]=t.charCodeAt(r);n||(y[e>>0]=0)}(r,i),n+=r.length+1})),0},E:function(t,e){var n=Ce();_[t>>2]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),_[e>>2]=r,0},F:function(t){return 0},y:function(t,e,n,r,o){},u:function(t,e,n,r){for(var o=0,i=0;i<n;i++){for(var a=_[e+8*i>>2],u=_[e+(8*i+4)>>2],s=0;s<u;s++)Te.printChar(t,v[a+s]);o+=u}return _[r>>2]=o,0},z:function(t){},C:function(t,e,n,r){return Fe(t,e,n,r)}};!function(){var t={a:Ee};function e(t,e){var n,r=t.exports;o.asm=r,s=o.asm.L,n=s.buffer,$=n,o.HEAP8=y=new Int8Array(n),o.HEAP16=w=new Int16Array(n),o.HEAP32=_=new Int32Array(n),o.HEAPU8=v=new Uint8Array(n),o.HEAPU16=b=new Uint16Array(n),o.HEAPU32=C=new Uint32Array(n),o.HEAPF32=T=new Float32Array(n),o.HEAPF64=P=new Float64Array(n),x=o.asm.N,function(t){if(0==--I&&N){var e=N;N=null,e()}}()}function n(t){e(t.instance)}function i(e){return("function"==typeof fetch?fetch(R,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+R+"'";return t.arrayBuffer()})).catch((function(){return B()})):Promise.resolve().then((function(){return B()}))).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){l("failed to asynchronously prepare wasm: "+t),Y(t)}))}if(I++,o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(t){return l("Module.instantiateWasm callback failed with error: "+t),!1}("function"!=typeof WebAssembly.instantiateStreaming||V(R)||"function"!=typeof fetch?i(n):fetch(R,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(n,(function(t){return l("wasm streaming compile failed: "+t),l("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(r)}();var De=o.___wasm_call_ctors=function(){return(De=o.___wasm_call_ctors=o.asm.M).apply(null,arguments)},Se=o._malloc=function(){return(Se=o._malloc=o.asm.O).apply(null,arguments)},je=o.___getTypeName=function(){return(je=o.___getTypeName=o.asm.P).apply(null,arguments)};o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.Q).apply(null,arguments)};var We,Ue=o._free=function(){return(Ue=o._free=o.asm.R).apply(null,arguments)};function Me(t){I>0||(z(j),I>0||We||(We=!0,o.calledRun=!0,f||(z(W),z(U),n(o),z(M))))}return o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.S).apply(null,arguments)},o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.T).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.U).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.V).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.W).apply(null,arguments)},N=function t(){We||Me(),We||(N=t)},o.run=Me,Me(),e.ready});function n(){}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function a(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t,e,n,r,o,i,a){const u=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(u){const o=c(e,n,r,a);t.p(o,u)}}function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function $(){return g(" ")}function y(){return g("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function C(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function T(t,e,n){t.classList[n?"add":"remove"](e)}let P;function x(t){P=t}function A(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const O=[],k=[],F=[],E=[],D=Promise.resolve();let S=!1;function j(){S||(S=!0,D.then(I))}function W(t){F.push(t)}let U=!1;const M=new Set;function I(){if(!U){U=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];x(e),N(e.$$)}for(x(null),O.length=0;k.length;)k.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];M.has(e)||(M.add(e),e())}F.length=0}while(O.length);for(;E.length;)E.pop()();S=!1,U=!1,M.clear()}}function N(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const Y=new Set;let V;function H(){V={r:0,c:[],p:V}}function R(){V.r||i(V.c),V=V.p}function B(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function z(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),V.c.push((()=>{Y.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function L(t){t&&t.c()}function G(t,e,n,o){const{fragment:u,on_mount:s,on_destroy:c,after_update:l}=t.$$;u&&u.m(e,n),o||W((()=>{const e=s.map(r).filter(a);c?c.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(W)}function q(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e,r,a,u,s,c=[-1]){const l=P;x(t);const f=t.$$={fragment:null,ctx:null,props:s,update:n,not_equal:u,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&u(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&function(t,e){-1===t.$$.dirty[0]&&(O.push(t),j(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(d)}else f.fragment&&f.fragment.c();e.intro&&B(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),I()}x(l)}class X{$destroy(){q(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(t){let e,n,r,o;const a=t[3].default,u=s(a,t,t[2],null);return{c(){e=m("button"),u&&u.c(),w(e,"class","svelte-1qdbelj"),T(e,"selected",t[0]),T(e,"tight",t[1])},m(i,a){p(i,e,a),u&&u.m(e,null),n=!0,r||(o=[v(e,"click",t[4]),v(e,"dblclick",t[5])],r=!0)},p(t,[n]){u&&u.p&&4&n&&l(u,a,t,t[2],n,null,null),1&n&&T(e,"selected",t[0]),2&n&&T(e,"tight",t[1])},i(t){n||(B(u,t),n=!0)},o(t){z(u,t),n=!1},d(t){t&&d(e),u&&u.d(t),r=!1,i(o)}}}function K(t,e,n){let{$$slots:r={},$$scope:o}=e,{selected:i=!1}=e,{tight:a=!1}=e;return t.$$set=t=>{"selected"in t&&n(0,i=t.selected),"tight"in t&&n(1,a=t.tight),"$$scope"in t&&n(2,o=t.$$scope)},[i,a,o,r,function(e){A(t,e)},function(e){A(t,e)}]}class Q extends X{constructor(t){super(),J(this,t,K,Z,u,{selected:0,tight:1})}}function tt(t){let e,n;const r=t[1].default,o=s(r,t,t[0],null);return{c(){e=m("div"),o&&o.c(),w(e,"class","svelte-yv072l")},m(t,r){p(t,e,r),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&1&e&&l(o,r,t,t[0],e,null,null)},i(t){n||(B(o,t),n=!0)},o(t){z(o,t),n=!1},d(t){t&&d(e),o&&o.d(t)}}}function et(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}class nt extends X{constructor(t){super(),J(this,t,et,tt,u,{})}}function rt(t){let e,n,r;return{c(){e=m("textarea"),w(e,"class","svelte-1hw20js")},m(o,i){p(o,e,i),t[2](e),_(e,t[0]),n||(r=v(e,"input",t[3]),n=!0)},p(t,n){1&n&&_(e,t[0])},d(o){o&&d(e),t[2](null),n=!1,r()}}}function ot(t){let e,n;return e=new nt({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,[n]){const r={};67&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function it(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))};let{text:o=""}=e,i=null;function a(){return r(this,void 0,void 0,(function*(){yield(j(),D),i&&(n(1,i.style.height="5px",i),n(1,i.style.height=`${i.scrollHeight}px`,i))}))}return t.$$set=t=>{"text"in t&&n(0,o=t.text)},t.$$.update=()=>{1&t.$$.dirty&&a()},[o,i,function(t){k[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},function(){o=this.value,n(0,o)}]}class at extends X{constructor(t){super(),J(this,t,it,ot,u,{text:0})}}function ut(t){let e,n,r;const o=t[7].default,i=s(o,t,t[6],null);return{c(){e=m("div"),i&&i.c(),w(e,"style",n=`--gaps: ${t[3]}px;--padding: ${t[4]}px;`),w(e,"class","svelte-1jw0gc2"),T(e,"end",t[2]),T(e,"fill",t[1]),T(e,"horizontal",t[5]),T(e,"vertical",t[0])},m(t,n){p(t,e,n),i&&i.m(e,null),r=!0},p(t,[a]){i&&i.p&&64&a&&l(i,o,t,t[6],a,null,null),(!r||24&a&&n!==(n=`--gaps: ${t[3]}px;--padding: ${t[4]}px;`))&&w(e,"style",n),4&a&&T(e,"end",t[2]),2&a&&T(e,"fill",t[1]),32&a&&T(e,"horizontal",t[5]),1&a&&T(e,"vertical",t[0])},i(t){r||(B(i,t),r=!0)},o(t){z(i,t),r=!1},d(t){t&&d(e),i&&i.d(t)}}}function st(t,e,n){let r,{$$slots:o={},$$scope:i}=e,{vertical:a=!1}=e,{fill:u=!1}=e,{end:s=!1}=e,{gaps:c=0}=e,{padding:l=0}=e;return t.$$set=t=>{"vertical"in t&&n(0,a=t.vertical),"fill"in t&&n(1,u=t.fill),"end"in t&&n(2,s=t.end),"gaps"in t&&n(3,c=t.gaps),"padding"in t&&n(4,l=t.padding),"$$scope"in t&&n(6,i=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&n(5,r=!a)},[a,u,s,c,l,r,i,o]}class ct extends X{constructor(t){super(),J(this,t,st,ut,u,{vertical:0,fill:1,end:2,gaps:3,padding:4})}}function lt(t,e,n){const r=t.slice();return r[26]=e[n],r}function ft(t,e,n){const r=t.slice();return r[26]=e[n],r[29]=e,r[30]=n,r}function pt(t,e,n){const r=t.slice();return r[31]=e[n],r[32]=e,r[33]=n,r}function dt(t){let e,n=t[31].name+"";return{c(){e=g(n)},m(t,n){p(t,e,n)},p(t,r){4&r[0]&&n!==(n=t[31].name+"")&&b(e,n)},d(t){t&&d(e)}}}function ht(t){let e,n,r;function o(){t[16].call(e,t[32],t[33])}function a(){return t[17](t[31],t[33])}return{c(){e=m("input"),w(e,"type","text"),w(e,"class","renameField svelte-my72o8")},m(i,u){p(i,e,u),t[15](e),_(e,t[31].name),n||(r=[v(e,"input",o),v(e,"change",a)],n=!0)},p(n,r){t=n,4&r[0]&&e.value!==t[31].name&&_(e,t[31].name)},d(o){o&&d(e),t[15](null),n=!1,i(r)}}}function mt(t){let e;function n(t,e){return t[1]===t[33]?ht:dt}let r=n(t),o=r(t);return{c(){o.c(),e=y()},m(t,n){o.m(t,n),p(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&d(e)}}}function gt(t){let e,n;return e=new Q({props:{selected:t[3]===t[33],tight:t[1]===t[33],$$slots:{default:[mt]},$$scope:{ctx:t}}}),e.$on("click",(function(){return t[18](t[33])})),e.$on("dblclick",(function(){return t[19](t[33])})),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(n,r){t=n;const o={};8&r[0]&&(o.selected=t[3]===t[33]),2&r[0]&&(o.tight=t[1]===t[33]),7&r[0]|8&r[1]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function $t(t){let e;return{c(){e=g("+")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function yt(t){let e,n,r,o=t[2],i=[];for(let e=0;e<o.length;e+=1)i[e]=gt(pt(t,o,e));const a=t=>z(i[t],1,1,(()=>{i[t]=null}));return n=new Q({props:{$$slots:{default:[$t]},$$scope:{ctx:t}}}),n.$on("click",t[20]),{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$(),L(n.$$.fragment)},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);p(t,e,o),G(n,t,o),r=!0},p(t,r){if(1039&r[0]){let n;for(o=t[2],n=0;n<o.length;n+=1){const a=pt(t,o,n);i[n]?(i[n].p(a,r),B(i[n],1)):(i[n]=gt(a),i[n].c(),B(i[n],1),i[n].m(e.parentNode,e))}for(H(),n=o.length;n<i.length;n+=1)a(n);R()}const u={};8&r[1]&&(u.$$scope={dirty:r,ctx:t}),n.$set(u)},i(t){if(!r){for(let t=0;t<o.length;t+=1)B(i[t]);B(n.$$.fragment,t),r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)z(i[t]);z(n.$$.fragment,t),r=!1},d(t){h(i,t),t&&d(e),q(n,t)}}}function vt(t){let e;return{c(){e=g("Compile/Reset")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function wt(t){let e,n,r=Object.keys(t[7]),o=[];for(let e=0;e<r.length;e+=1)o[e]=Ct(ft(t,r,e));const i=t=>z(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=y()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);p(t,e,r),n=!0},p(t,n){if(128&n[0]){let a;for(r=Object.keys(t[7]),a=0;a<r.length;a+=1){const i=ft(t,r,a);o[a]?(o[a].p(i,n),B(o[a],1)):(o[a]=Ct(i),o[a].c(),B(o[a],1),o[a].m(e.parentNode,e))}for(H(),a=r.length;a<o.length;a+=1)i(a);R()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)B(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)z(o[t]);n=!1},d(t){h(o,t),t&&d(e)}}}function bt(t){let e,n;return e=new nt({props:{$$slots:{default:[Tt]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function _t(t){let e,n,r,o,i,a,u,s,c,l,h,y,_,T=t[26]+"";function P(){t[22].call(i,t[26])}return{c(){e=m("div"),n=m("label"),r=g(T),o=$(),i=m("select"),a=m("option"),u=g("UNDEFINED"),s=m("option"),s.textContent="FALSE",c=m("option"),c.textContent="TRUE",h=$(),a.__value=void 0,a.value=a.__value,s.__value=!1,s.value=s.__value,c.__value=!0,c.value=c.__value,w(i,"name",l=t[26]),w(i,"class","svelte-my72o8"),void 0===t[7][t[26]]&&W(P),w(e,"class","inputPins svelte-my72o8")},m(l,d){p(l,e,d),f(e,n),f(n,r),f(n,o),f(n,i),f(i,a),f(a,u),f(i,s),f(i,c),C(i,t[7][t[26]]),p(l,h,d),y||(_=v(i,"change",P),y=!0)},p(e,n){t=e,128&n[0]&&T!==(T=t[26]+"")&&b(r,T),128&n[0]&&l!==(l=t[26])&&w(i,"name",l),128&n[0]&&C(i,t[7][t[26]])},d(t){t&&d(e),t&&d(h),y=!1,_()}}}function Ct(t){let e,n;return e=new nt({props:{$$slots:{default:[_t]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};128&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Tt(t){let e;return{c(){e=g("Compilation failed!")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function Pt(t){let e,n,r,o,i,a;e=new Q({props:{$$slots:{default:[vt]},$$scope:{ctx:t}}}),e.$on("click",t[11]);const u=[bt,wt],s=[];function c(t,e){return t[6]?0:1}return r=c(t),o=s[r]=u[r](t),{c(){L(e.$$.fragment),n=$(),o.c(),i=y()},m(t,o){G(e,t,o),p(t,n,o),s[r].m(t,o),p(t,i,o),a=!0},p(t,n){const a={};8&n[1]&&(a.$$scope={dirty:n,ctx:t}),e.$set(a);let l=r;r=c(t),r===l?s[r].p(t,n):(H(),z(s[l],1,1,(()=>{s[l]=null})),R(),o=s[r],o?o.p(t,n):(o=s[r]=u[r](t),o.c()),B(o,1),o.m(i.parentNode,i))},i(t){a||(B(e.$$.fragment,t),B(o),a=!0)},o(t){z(e.$$.fragment,t),z(o),a=!1},d(t){q(e,t),t&&d(n),s[r].d(t),t&&d(i)}}}function xt(t){let e;return{c(){e=g("Tick once")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function At(t){let e;return{c(){e=g("Tick until stable")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function Ot(t){let e,n,r,o;return e=new Q({props:{$$slots:{default:[xt]},$$scope:{ctx:t}}}),e.$on("click",t[12]),r=new Q({props:{$$slots:{default:[At]},$$scope:{ctx:t}}}),r.$on("click",t[13]),{c(){L(e.$$.fragment),n=$(),L(r.$$.fragment)},m(t,i){G(e,t,i),p(t,n,i),G(r,t,i),o=!0},p(t,n){const o={};8&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};8&n[1]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(B(e.$$.fragment,t),B(r.$$.fragment,t),o=!0)},o(t){z(e.$$.fragment,t),z(r.$$.fragment,t),o=!1},d(t){q(e,t),t&&d(n),q(r,t)}}}function kt(t){let e,n,r,o,i=t[26]+"",a=`${t[8][t[26]]}`;return{c(){e=m("pre"),n=g(i),r=g(" = "),o=g(a),w(e,"class","svelte-my72o8")},m(t,i){p(t,e,i),f(e,n),f(e,r),f(e,o)},p(t,e){256&e[0]&&i!==(i=t[26]+"")&&b(n,i),256&e[0]&&a!==(a=`${t[8][t[26]]}`)&&b(o,a)},d(t){t&&d(e)}}}function Ft(t){let e,n;return e=new nt({props:{$$slots:{default:[kt]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};256&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Et(t){let e,n;return e=new nt({props:{$$slots:{default:[Dt]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Dt(t){let e;return{c(){e=g("Circuit isn't stable!")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function St(t){let e,n,r,o,i;e=new ct({props:{fill:!0,gaps:8,$$slots:{default:[Ot]},$$scope:{ctx:t}}});let a=Object.keys(t[8]),u=[];for(let e=0;e<a.length;e+=1)u[e]=Ft(lt(t,a,e));const s=t=>z(u[t],1,1,(()=>{u[t]=null}));let c=t[5]&&!t[4]&&Et(t);return{c(){L(e.$$.fragment),n=$();for(let t=0;t<u.length;t+=1)u[t].c();r=$(),c&&c.c(),o=y()},m(t,a){G(e,t,a),p(t,n,a);for(let e=0;e<u.length;e+=1)u[e].m(t,a);p(t,r,a),c&&c.m(t,a),p(t,o,a),i=!0},p(t,n){const i={};if(8&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i),256&n[0]){let e;for(a=Object.keys(t[8]),e=0;e<a.length;e+=1){const o=lt(t,a,e);u[e]?(u[e].p(o,n),B(u[e],1)):(u[e]=Ft(o),u[e].c(),B(u[e],1),u[e].m(r.parentNode,r))}for(H(),e=a.length;e<u.length;e+=1)s(e);R()}t[5]&&!t[4]?c?48&n[0]&&B(c,1):(c=Et(t),c.c(),B(c,1),c.m(o.parentNode,o)):c&&(H(),z(c,1,1,(()=>{c=null})),R())},i(t){if(!i){B(e.$$.fragment,t);for(let t=0;t<a.length;t+=1)B(u[t]);B(c),i=!0}},o(t){z(e.$$.fragment,t),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)z(u[t]);z(c),i=!1},d(t){q(e,t),t&&d(n),h(u,t),t&&d(r),c&&c.d(t),t&&d(o)}}}function jt(t){let e,n,r,o;return e=new ct({props:{vertical:!0,gaps:8,$$slots:{default:[Pt]},$$scope:{ctx:t}}}),r=new ct({props:{vertical:!0,gaps:8,$$slots:{default:[St]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment),n=$(),L(r.$$.fragment)},m(t,i){G(e,t,i),p(t,n,i),G(r,t,i),o=!0},p(t,n){const o={};192&n[0]|8&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};304&n[0]|8&n[1]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(B(e.$$.fragment,t),B(r.$$.fragment,t),o=!0)},o(t){z(e.$$.fragment,t),z(r.$$.fragment,t),o=!1},d(t){q(e,t),t&&d(n),q(r,t)}}}function Wt(t){let e,n,r,o,i,a,u;function s(e){t[21](e)}e=new ct({props:{gaps:8,$$slots:{default:[yt]},$$scope:{ctx:t}}});let c={};return void 0!==t[2][t[3]].source&&(c.text=t[2][t[3]].source),r=new at({props:c}),k.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(r,"text",s))),a=new ct({props:{fill:!0,gaps:8,$$slots:{default:[jt]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment),n=$(),L(r.$$.fragment),i=$(),L(a.$$.fragment)},m(t,o){G(e,t,o),p(t,n,o),G(r,t,o),p(t,i,o),G(a,t,o),u=!0},p(t,n){const i={};15&n[0]|8&n[1]&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);const u={};var s;!o&&12&n[0]&&(o=!0,u.text=t[2][t[3]].source,s=()=>o=!1,E.push(s)),r.$set(u);const c={};496&n[0]|8&n[1]&&(c.$$scope={dirty:n,ctx:t}),a.$set(c)},i(t){u||(B(e.$$.fragment,t),B(r.$$.fragment,t),B(a.$$.fragment,t),u=!0)},o(t){z(e.$$.fragment,t),z(r.$$.fragment,t),z(a.$$.fragment,t),u=!1},d(t){q(e,t),t&&d(n),q(r,t),t&&d(i),q(a,t)}}}function Ut(t){let e,n,r;return n=new ct({props:{vertical:!0,gaps:8,padding:8,$$slots:{default:[Wt]},$$scope:{ctx:t}}}),{c(){e=m("main"),L(n.$$.fragment)},m(t,o){p(t,e,o),G(n,e,null),r=!0},p(t,e){const r={};511&e[0]|8&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(B(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){t&&d(e),q(n)}}}function Mt(t,e,n){let{nts:r}=e,o=[{name:"nor",source:"# NOR gate\n\n.chipsets:\ninput a\ninput b\noutput out\nnot not_a\nnot not_b\nand and\n\n.links:\na:1 not_a:1\nb:1 not_b:1\nnot_a:2 and:1\nnot_b:2 and:2\nand:3 out:1"}];const i=new r.ComboComponentFactory;{const t=new r.BuiltInComponentFactory;i.add(t)}{const t=new Set;i.add(r.IComponentFactory.implement({createComponent(e){if(t.has(e))return void console.log("circular dependency!");let n=o.find((t=>e===t.name));if(n){t.add(n.name);const e=new r.NtsCircuit(n.source,i);return t.delete(n.name),e}}}))}let a=0,u=null,s=null;function c(t){return n(2,o=[...o,{name:t,source:`# ${t}\n\n.chipsets:\ninput a\ninput b\noutput out\n\n.links:\n`}]),n(3,a=o.length-1)}function l(t){o.splice(t,1),n(3,a=Math.min(a,o.length-1)),0===o.length&&c("my_chip")}let f=!1,p=null,d=!1,h={},m={};function g(t){if(!p)return;const e={},n=p.pins,o=p.pinout,i=n.keys(),a=i.size();for(let u=0;u<a;u++){const a=i.get(u),s=n.get(a);let c;switch(p.read(s)){case r.Tristate.FALSE:c=!1;break;case r.Tristate.TRUE:c=!0}o.get(s)==t&&(e[a]=c)}return e}function $(){p&&(p.delete(),n(5,p=null));try{n(5,p=new r.NtsCircuit(o[a].source,i)),n(7,h=g(r.PinMode.INPUT)),n(8,m=g(r.PinMode.OUTPUT)),n(6,d=!1)}catch(t){n(6,d=!0)}}function y(){if(p)for(const t of Object.keys(h)){const e=p.pins.get(t);switch(h[t]){case void 0:p.write(e,r.Tristate.UNDEFINED);break;case!1:p.write(e,r.Tristate.FALSE);break;case!0:p.write(e,r.Tristate.TRUE)}}}return t.$$set=t=>{"nts"in t&&n(14,r=t.nts)},t.$$.update=()=>{3&t.$$.dirty[0]&&s&&u&&(u.focus(),u.select())},[u,s,o,a,f,p,d,h,m,c,l,$,function(){p||$(),p&&(y(),p.tick(),n(4,f=p.stable),n(8,m=g(r.PinMode.OUTPUT)))},function(){if(p||$(),p){y(),n(4,f=p.stable);for(let t=0;t<100&&!f;t++)p.tick(),n(4,f=p.stable);n(8,m=g(r.PinMode.OUTPUT))}},r,function(t){k[t?"unshift":"push"]((()=>{u=t,n(0,u)}))},function(t,e){t[e].name=this.value,n(2,o)},(t,e)=>{n(1,s=null),""===t.name&&l(e)},t=>n(3,a=t),t=>n(1,s=t),()=>{n(1,s=c("new_chip"))},function(e){t.$$.not_equal(o[a].source,e)&&(o[a].source=e,n(2,o))},function(t){h[t]=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(7,h)}]}class It extends X{constructor(t){super(),J(this,t,Mt,Ut,u,{nts:14},[-1,-1])}}e({locateFile:t=>`${t}`}).then((t=>{new It({target:document.body,props:{nts:t}})}));
